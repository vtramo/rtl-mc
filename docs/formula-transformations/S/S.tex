%! Author = vincenzo
%! Date = 30/12/24

% Preamble
\documentclass[11pt]{article}

% Packages
\usepackage{amsmath}
\usepackage{letltxmacro}
\LetLtxMacro{\ttt}{\texttt}
% Document
\begin{document}
    $\begin{aligned}
         \varphi_1\,\ttt{S}\,\varphi_2 \,&\overset{\ttt{dsc}}{=} (sing\,\land\,\ttt{X}\,(\varphi_1\,\ttt{U}\,\varphi_2)) \lor (\neg sing\,\land\,(\varphi_1\,\ttt{U}\,\varphi_2))\\
         &\overset{\ttt{t}}{=} (sing\,\land\,\ttt{X}\,((\varphi_1\ttt{U}\,\varphi_2) \land alive)) \lor (\neg sing\,\land\,(\varphi_1\ttt{U}\,\varphi_2))\\
         &\begin{aligned}\overset{\ttt{dsc,t}}{=}&(sing\,\land\,\ttt{X}\,((\boxed{\varphi_1}\,\ttt{U}\,(\,\boxed{\varphi_2}\,\land\,(\,\boxed{\varphi_1}\,\lor\,sing)\,\land\,alive)) \land alive))\,\lor\, \\
         &(\neg sing\,\land\,(\boxed{\varphi_1}\,\ttt{U}\,(\,\boxed{\varphi_2}\,\land\,(\,\boxed{\varphi_1}\,\lor\,sing)\,\land\,alive)))\end{aligned}
    \end{aligned}$
\end{document}